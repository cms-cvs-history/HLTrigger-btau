#JetTrackAssociator
module associatorL25PixelTauIsolated = JetTracksAssociator {
    InputTag tracks = pixelTracks
    InputTag jets   = ecalTauIsolated:Isolated
    double coneSize = 0.5
}

module associatorL25PixelTauNotIsolated = JetTracksAssociator {
    InputTag tracks = pixelTracks
    InputTag jets   = ecalTauIsolated:NotIsolated
    double coneSize = 0.5
}

 
module coneIsolationL25PixelTauIsolated = coneIsolationForHLT from "RecoTauTag/HLTProducers/data/coneIsolationForHLT.cfi"
replace coneIsolationL25PixelTauIsolated.JetTrackSrc = "associatorL25PixelTauIsolated"
replace coneIsolationL25PixelTauIsolated.MinimumNumberOfHits = 2
replace coneIsolationL25PixelTauIsolated.useVertex = false

#Filtering events were Ecal isolated taus are not Pixel Isolated
module filterL25PixelTauIsolated = HLTJetTag {
    InputTag JetTag   = coneIsolationL25PixelTauIsolated
    double MinTag = 1.
    double   MaxTag   = 1.
    int32 MinN     = 1.
}





module coneIsolationL25PixelTauNotIsolated = coneIsolationForHLT from "RecoTauTag/HLTProducers/data/coneIsolationForHLT.cfi" 
replace coneIsolationL25PixelTauNotIsolated.JetTrackSrc = "associatorL25PixelTauNotIsolated"
replace coneIsolationL25PixelTauNotIsolated.MinimumNumberOfHits = 2
replace coneIsolationL25PixelTauNotIsolated.useVertex = false

#




#
#Selecting Isolated Taus
#

module isolatedL25PixelTau = IsolatedTauJetsSelector{
    
    VInputTag JetSrc = {coneIsolationL25PixelTauIsolated,coneIsolationL25PixelTauNotIsolated }
	double MatchingCone = 0.1
	double SignalCone = 0.07
	double IsolationCone = 0.45
	double MinimumTransverseMomentumInIsolationRing = 0.
    double MinimumTransverseMomentumLeadingTrack = 3.
    double DeltaZetTrackVertex = 0.2
    int32	MaximumNumberOfTracksIsolationRing = 0.
    InputTag VertexSrc = pixelVertices
    bool UseVertex = true

}

module filterL25PixelTau = HLTJetTag {
    InputTag JetTag   = isolatedL25PixelTau
    double MinTag = 1.
    double   MaxTag   = 1.
    int32 MinN     = 2.
}

