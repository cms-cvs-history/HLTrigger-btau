process bHLT = {
 
    # input file
    source = PoolSource {
       # b-bbar RECO jets
#       untracked vstring fileNames = { '/store/RelVal/2006/12/16/RelVal120BJets50-120/0000/00D1599A-578D-DB11-8741-001731AF68C7.root' }
       # b-bbar low lumi RECO jets.
       untracked vstring fileNames = { '/store/mc/2006/12/22/mc-physval-120-BBbar170to230-LowLumiPU/0002/00550394-A09F-DB11-8583-00304885AD4E.root' }
       untracked int32   maxEvents = 5
    }

    # Enable debug printout from HLT modules.
    service = MessageLogger {
       untracked vstring destinations = { "cout" }
       untracked PSet cout = { 
         untracked string threshold = "INFO" 
         untracked int32 lineLength  = 132
#        untracked bool noLineBreaks = true
       }
       untracked vstring debugModules = { "highestEtJets", "etCutJets", "regionalCtfWithMaterialTracks", "hltL25b", "hltL3b" }
       untracked vstring suppressInfo = { "regionalCkfTrackCandidates"}
    }

    # 
    # Event reconstruction for HLT
    #


    # reconstruct jets
    include "HLTrigger/btau/data/jetTag/bHLTjets.cff"
    # setup pixel tracks & primary vertex + regional tracks
    include "HLTrigger/btau/data/jetTag/bHLTpixel.cff"
    # setup jet-track associators
    include "HLTrigger/btau/data/jetTag/bHLTjetrk.cff"


    #
    # Trigger modules for Level 2.5 and 3.
    #

    module trackCountingJetTagsL25 = trackCountingJetTags from "RecoBTag/TrackCounting/data/trackCounting.cfi"
    replace trackCountingJetTagsL25.jetTracks = "associatorL25"
    replace trackCountingJetTagsL25.primaryVertex = "pixelVertices" 
    replace trackCountingJetTagsL25.AlgorithmPSet.NthTrack = 2 
    replace trackCountingJetTagsL25.AlgorithmPSet.ImpactParamterType = 0   # Use 3D impact parameter.  
    replace trackCountingJetTagsL25.AlgorithmPSet.MinimumNumberOfHits = 3  # (Pixel tracks only have 3 hits ...)

    module trackCountingJetTagsL3 = trackCountingJetTags from "RecoBTag/TrackCounting/data/trackCounting.cfi"
    replace trackCountingJetTagsL3.jetTracks = "associatorL3"
    replace trackCountingJetTagsL3.primaryVertex = "pixelVertices" 
    replace trackCountingJetTagsL3.AlgorithmPSet.NthTrack = 3 
    replace trackCountingJetTagsL3.AlgorithmPSet.ImpactParamterType = 0   # Use 3D impact parameter
    replace trackCountingJetTagsL3.AlgorithmPSet.MinimumNumberOfHits = 8  # (Partially reconstructed tracks don't have many hits ...)

    #
    # Trigger modules for Level 2.5 and 3.
    #

    module hltL25b = hltJetTag from "HLTrigger/btau/data/jetTag/hltJetTag.cfi"
    replace hltL25b.JetTag = trackCountingJetTagsL25
    replace hltL25b.MinTag = 2.5

    module hltL3b = hltJetTag from "HLTrigger/btau/data/jetTag/hltJetTag.cfi"
    replace hltL3b.JetTag = trackCountingJetTagsL3
    replace hltL3b.MinTag = 3



    sequence preL25bReco  = {bCalJetsReco,
                             bL25trackReco,
                             associatorL25, trackCountingJetTagsL25}

    sequence preL3bReco   = {bCalJetsReco,
                             bL3trackReco, 
                             associatorL3, trackCountingJetTagsL3}

    # Trigger path

    path bHLTpath = {preL25bReco, hltL25b, 
                     preL3bReco, hltL3b}

    # Write selected output to file and print trigger summary.
    include "HLTrigger/btau/data/jetTag/endJob.cff"

}
