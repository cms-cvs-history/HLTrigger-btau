

process h  = {
    # include services
    include "Configuration/ReleaseValidation/data/Services.cfi"
    
    # initialize MessageLogger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    
    
    #   service = Tracer { untracked string indention = "$$"}	
    service = RandomNumberGeneratorService
    {
	untracked uint32 sourceSeed = 98765
    }
    
    untracked PSet options = {
	untracked bool makeTriggerResults = true
#	vstring listOfTriggers={"doubleTrkTauTrg"}
#	vstring listOfTriggers={}
	untracked bool wantSummary = true  # default is false
    }
    source = PoolSource {
        untracked vstring fileNames = {
#'rfio:/castor/cern.ch/user/j/jalcaraz/crab/Hto4mu_50.root'
'rfio:/castor/cern.ch/user/m/monicava/HLTVal111_Hto2tau_M200/200D80CD-9576-DB11-A900-0017312B5BAD.root'
#'/store/RelVal/2006/12/16/RelVal120QCD_pt120_170/0000/0082E6C5-578D-DB11-8FC0-001731A2832F.root',
#'/store/RelVal/2006/12/16/RelVal120QCD_pt120_170/0000/7A15DE9D-578D-DB11-9F80-003048755429.root'	
}
	untracked int32 maxEvents = 300

    }
    
    
    
    #
    #  Start Calo Tau HLT modules definition
    #  =============
    #
    #  build MC generated jets as L1 seeds prototype
    #
    
    #Generated MET and jets
    
    #Timing
    // subroutine-by-subroutine timing info (optional)
#    service = SimpleProfiling {}
    
#    module myTimer = Timer{
	
        // whether to include timing info about Timer itself
#        untracked bool includeSelf = false
#    }
    
    
        
    module CaloTauHLT = PoolOutputModule {
	untracked string fileName = '/tmp/gennai/tau_hlt.root'
	untracked vstring outputCommands = {

	    "drop *",
	    "keep *_*_*_h"
	}
    } 
    #



#Filter events without TauJet

module tauJetFilter = TauJetMCFilter{
	InputTag GenParticles = VtxSmeared
	double EtTau = 50.0
	double EtaTauMin = 0.0
	double EtaTauMax = 2.5
    }


    include "L1Trigger/L1ExtraFromDigis/data/l1extra.cff"
    replace  l1extraParticleMap.singleTauMinEt = 40.
    replace l1extraParticleMap.doubleTauMinEt = 20.

    include "HLTrigger/btau/data/tau/TauHLT.cff"
	 include "HLTrigger/btau/data/tau/ElecHLT.cff"


#    include  "PerfTools/Profiler/data/profiler.cff"
#    module pts = PathTimerInserter{}
#    service = PathTimerService{}

#    path l1MC = {l1MCCandidate} 
   path l1Emulator = {tauJetFilter,l1emulator,l1extra}
#    path singleTauTrg = {tauJetFilter,singleTauL1HLT}
    path doubleTrkTauTrg = {tauJetFilter,doubleTrkTauL1HLT}
    path caloPixelTauTrg = {tauJetFilter,caloPixelTauL1HLT}
 path electronTauTrg = {electronL1HLT}
    path leptonTauTrg = {leptonTauL1HLT}
    endpath outpath = { CaloTauHLT }

}
