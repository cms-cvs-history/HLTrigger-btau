#! /bin/env cmsRun

#
# Run this on a data file containing the b HLT objects and trigger 
# results. It will produce histograms allowing the ROOT macros
# ComputeRates.C and PlotRates.C to make trigger threshold plots
# and compute trigger rates.
#

process Analysis = {

    untracked PSet maxEvents = { untracked int32 input = 100 }

    # input file
    source = PoolSource {
      # Results of L1 + HLT reconstruction.
#      untracked vstring fileNames = {'file:/home/tomalini/Results_160/bHLT_tt.root'}
#      untracked vstring fileNames = {'file:/home/tomalini/bHLT_mb.root'}
     # HLT RelVal 1.6.0 samples
     untracked vstring fileNames = {
      '/store/RelVal/2007/9/4/RelVal-RelVal145TTbar-1188895669/0002/22F8ADA0-CC5A-DC11-9B4E-000423D94524.root',
      '/store/RelVal/2007/9/4/RelVal-RelVal145TTbar-1188895669/0002/567F6067-E85A-DC11-A052-00304856292A.root'
      }
    }

    # Enable debug printout from HLT modules.
    service = MessageLogger {
        untracked vstring destinations = { "cout", "anal" }
        untracked PSet cout = {
            untracked string threshold = "DEBUG"
            untracked int32 lineLength  = 132
        }
        untracked PSet log = {
            untracked string threshold = "WARNING"
        }
    }

# These 2 lines are not needed for data simulated with >= 1.6.0
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
    include "PhysicsTools/HepMCCandAlgos/data/genParticleCandidatesFast.cfi"

    module fun = bLifetimeHLTanal {
      untracked string outputHistos = "bHLTanal_tt.root"
      bool selectUDS = false
    }

# These line can be replaced by the next one for data simulated with >= 1.6.0
    path myPath = {genParticleCandidates, fun}
#    path myPath = {fun}
}
